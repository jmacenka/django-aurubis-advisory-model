# Configuration for Advisory Frontend
# Created by Jan Macenka @ 25 Sept 2023
# Configuration parameters are loaded from environment-variables or the .env file in the /src folder.
# If no .env file is present, the here defined default values are used.

# Library imports
import os
import base64
from dotenv import load_dotenv

try:
    # Try to load .env file in /src folder if existing
    load_dotenv('./.env')
except:
    load_dotenv()

# Security stuff
SECRET_KEY = os.environ.get('SECRET_KEY', base64.urlsafe_b64encode(os.urandom(50)).decode('utf-8'))

# Dash Application parameters
CELOX_O2_DEFAULT_UPPER_THRESHHOLD = os.environ.get('CELOX_O2_DEFAULT_UPPER_THRESHHOLD', 20000)
CELOX_O2_DEFAULT_LOWER_THRESHHOLD = os.environ.get('CELOX_O2_DEFAULT_LOWER_THRESHHOLD', 0)
CHARGE_START_HOUR = os.environ.get('CHARGE_START_HOUR', 6)

# Application configuration
TIMEZONE = os.environ.get('TIMEZONE', 'Europe/Berlin')
COMPANY_NAME = os.environ.get('COMPANY_NAME', 'Aurubis AG')
COMPANY_LOGO = os.environ.get('COMPANY_LOGO', 'Aurubis-logo.svg')

# Default User, this should for security reasons be over-written by the .env file or the environment variables.
DEFAULT_ADMIN_USERNAME = os.environ.get('DEFAULT_ADMIN_USERNAME', 'admin')
DEFAULT_ADMIN_EMAIL = os.environ.get('DEFAULT_ADMIN_EMAIL', 'admin@example.com')
DEFAULT_ADMIN_PASSWORD = os.environ.get('DEFAULT_ADMIN_PASSWORD', 'AurubisAdmin')

# OSI-PI Connection String
OSI_PI_BASE_URL = os.environ.get('OSI_PI_BASE_URL', '')
OSI_PI_USERNAME = os.environ.get('OSI_PI_USERNAME', '')
OSI_PI_PASSWORD = os.environ.get('OSI_PI_PASSWORD', '')
CACHE_STORAGE_DURATION_HOURS = os.environ.get('CACHE_STORAGE_DURATION_HOURS', 24*5)

# This mapping is currently static and needs to be updated manually if the OSI-PI parameters change.
OSI_PI_WEBID_MAPPING = {
    "ACTUAL_DRUCK_DUESENWAND_LANZE_1" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwQPOiVRhh30aTjtLVjXTS0wUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzE",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_2" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwl0J_sWSu8kukBbE3kqL1vwUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzI",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_3" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwazz1nrFi20S2KGygwaoXawUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzM",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_4" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwkqrjPdijB0uRsJAYEQmFvwUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzQ",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_5" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwRYVI0n4IiES79ukW4HfitAUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzU",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_6" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwqeZODiJuiUicm61G8eHzBgUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzY",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_7" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIweHwFJsmoUUKCrHLRMahMvAUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzc",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_8" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwangCTfv6wkeoQmtsCKYv0AUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzg",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_9" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwD9vou8iklE-cuUeP2qHiuwUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzk",
    "ACTUAL_DRUCK_DUESENWAND_LANZE_10" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwV0s6Lhx1S0-vaGIGPx7QegUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9EUlVDS19EVUVTRU5XQU5EX0xBTlpFXzEw",
    "ACTUAL_TEMP_DECKE_1" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwP0WpGWUwGkOJU5jF2lndRwUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0RFQ0tFXzE",
    "ACTUAL_TEMP_DECKE_2" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIw9B5-5LGsk02YxSRpJI-SpgUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0RFQ0tFXzI",
    "ACTUAL_TEMP_DECKE_3" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwg-QduNglt0CshyM6OBwVNgUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0RFQ0tFXzM",
    "ACTUAL_TEMP_DECKE_4" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwX_T2IBMmT0OMp-c1nJL3ZgUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0RFQ0tFXzQ",
    "ACTUAL_TEMP_DECKE_5" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwT5BrhA6xXkiPNIUQmaDyaAUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0RFQ0tFXzU",
    "ACTUAL_TEMP_DECKE_6" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIw_75KN1i8uUusatimBt_tKwUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0RFQ0tFXzY",
    "ACTUAL_O2_CELOX" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIw_3HD_UOyg0-9YKIfdAz4bwUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9PMl9DRUxPWA",
    "ACTUAL_TEMP_CELOX" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwGlZ45ljIwEurz9GCo74WiQUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0NFTE9Y",
    "ACTUAL_S02_KAMIN_100" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwAijkDTKOIkm6zrqB0X_8ZQUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9TMDJfS0FNSU5fMTAw",
    "ACTUAL_SO2_KESSEL_7" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwvgZn1B7uEk2lUMI3NFoCkwUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9TTzJfS0VTU0VMXzc",
    "ACTUAL_TEMP_LECKAGE_RLA" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwlD7J2zmpcUiaicRyAsfm7AUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0xFQ0tBR0VfUkxB",
    "ACTUAL_TEMP_LECKAGE_RLB" : "F1AbEFdD4Wibe7USdVhXAbVfEOgzeySUjld7hGDXEwdloWrIwbM1BkedgnECBWjueD1MuOgUElBRkNMU1xBVVIgTFVFXEFGX1NUUlVLVFVSX0VGRVNPX0FEVklTT1JcTFUtMDkwIEFOT0RFTkjDnFRURVxBTy1BRFZJU09SfEFDVFVBTF9URU1QX0xFQ0tBR0VfUkxC",
}

# Dynamically load all keys
OSI_PI_PARAMETERS_REQUESTED = list(OSI_PI_WEBID_MAPPING.keys())